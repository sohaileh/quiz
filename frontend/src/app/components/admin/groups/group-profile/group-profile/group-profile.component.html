<app-header-three></app-header-three>
<div class="main pl-md-5 pr-md-5 h-100 w-100">
  <mat-card class="w-100 h-100 layout p-0 p-md-4">
    <div
      class="header rounded-top"
      fxLayout="row"
      fxLayoutAlign="space-between none"
      fxLayout.lt-xs="column"
    >
      <!-- <div fxLayoutAlign="start center" class="searchIcon">
        <i class="fa fa-search ml-2 searchIcon search_icon" (click)="searchShow()"><span class="ml-2"></span></i>
        <mat-form-field appearance="none">
          <input matInput (keyup)="applyFilter($event)" placeholder="search" #input />
        </mat-form-field>
      </div> -->
      <div class="col-md-4">
        <div class="input-group">
          <div class="input-group-addon">
            <i class="fa fa-search" (click)="searchShow()"></i>
          </div>
          <input
            type="text"
            class="form-control"
            placeholder="Search"
            (keyup)="applyFilter($event)"
          />
        </div>
      </div>
      <div fxLayoutGap="4px" fxLayout.xs="row" fxLayoutAlign="start center">
        <button
          class="btn create-button border-0 ml-1"
          (click)="openDialog()"
        >
          Add Group
        </button>
      </div>
    </div>
    <mat-card-content>
      <mat-table #table [dataSource]="dataSource">
        <div class="d-flex" fxFlex-xs="100%">
          <!-- <ng-container matColumnDef="selectRole">
            <th mat-header-cell *matHeaderCellDef>
              <mat-select class="matSelect">
                <mat-option>All</mat-option>
                <mat-option>Trainers</mat-option>
                <mat-option>Administrator</mat-option>
              </mat-select>
            </th>
            <td mat-cell *matCellDef="let row">
              <mat-checkbox
                [hidden]="row.role === 'admin'"
                (click)="$event.stopPropagation()"
              >
              </mat-checkbox>
            </td>
          </ng-container> -->

          <ng-container matColumnDef="groupName">
            <th mat-header-cell *matHeaderCellDef class="word-br">GroupName</th>
            <td
              mat-cell
              *matCellDef="let element"
              (click)="getUserInfo(element)"
            >
              {{ element.firstName }}
            </td>
          </ng-container>

          <ng-container matColumnDef="organisationName">
            <th mat-header-cell *matHeaderCellDef class="word-br">OrganisationName</th>
            <td mat-cell *matCellDef="let element">{{ element.lastName }}</td>
          </ng-container>

          

          <!-- <ng-container matColumnDef="role">
            <th mat-header-cell *matHeaderCellDef>Role</th>
            <td mat-cell *matCellDef="let element">{{ element.role }}</td>
          </ng-container> -->

          <ng-container matColumnDef="created">
            <th mat-header-cell *matHeaderCellDef class="th-w-20">Created</th>
            <td mat-cell *matCellDef="let element" class="th-w-20">
              {{ element.created | date }}
            </td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef>Action</th>
            <td
              mat-cell
              *matCellDef="let element"
              fxLayoutGap="4px"
              class="ml-2 ml-md-0"
            >
              <span
                ><i
                  class="fa fa-edit text-success"
                  *ngIf="element.role !== 'admin'"
                  (click)="getUserInfo(element)"
                ></i>
              </span>
              <span
                ><i
                  class="fa fa-trash text-danger"
                  *ngIf="element.role !== 'admin'"
                  (click)="deleteUser(element)"
                ></i
              ></span>
            </td>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
        </div>
      </mat-table>
    </mat-card-content>
  </mat-card>
</div>

